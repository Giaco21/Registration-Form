<html>
    <head>
        <title>Form Registrazione Esercitazione</title>
    </head>
    <body>
        <h1 id="title">Form di Registrazione</h1>
        <table>
            <form method="post" name="modulo">
            <tr>
            <td colspan="2" align="center"><b>Form di Registrazione Esercitazione<br>Nome, cognome, numero di telefono, email e password sono obbligatori</b></td>
            </tr>
            <tr><td><b>Nome</b></td><td><input type="text" name="nome"></td></tr>
            <tr><td><b>Cognome</b></td><td><input type="text" name="cognome"></td></tr>
            <tr><td><b>Città</b></td><td><input type="text" name="città"></td></tr>
            <tr><td><b>Indirizzo</b></td><td><input type="text" name="indirizzo"></td></tr>
            <tr><td><b>Email</b></td><td><input type="text" name="email"></td></tr>
            <tr><td><b>Telefono (senza spazi nè simboli)</b></td><td><input type="text" name="telefono"></td></tr>
            <tr><td><b>Password</b></td><td><input type="password" name="password"></td></tr>
            <tr><td><b>Conferma password</b></td><td><input type="password" name="conferma"></td></tr>
            <tr><td colspan="2" align="right"><input type="button" value="Registrati" onClick="Modulo()"></td></tr>
            </form>
            </table>
            <script>
                function Modulo() {
                // Variabili associate ai campi del modulo
                var nome = document.modulo.nome.value;
                var cognome = document.modulo.cognome.value;
                var password = document.modulo.password.value;
                var conferma = document.modulo.conferma.value;
                var indirizzo = document.modulo.indirizzo.value;
                var telefono = document.modulo.telefono.value;
                var email = document.modulo.email.value;

                // Espressione regolare dell'email
                var email_reg_exp = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-]{2,})+.)+([a-zA-Z0-9]{2,})+$/;

                //Effettua il controllo sul campo NOME
                if ((nome == "") || (nome == "undefined")) {
                alert("Il campo Nome è obbligatorio.");
                document.modulo.nome.focus();
                return false;
                }

                //Effettua il controllo sul campo COGNOME
                else if ((cognome == "") || (cognome == "undefined")) {
                alert("Il campo Cognome è obbligatorio.");
                document.modulo.cognome.focus();
                return false;
                }
               
                //Effettua il controllo sul campo PASSWORD
                else if ((password == "") || (password == "undefined") ) {
                alert("Il campo Password è obbligatorio, o errato");
                document.modulo.password.focus();
                console.log("sei qui");
                return false;
                }

                //Effettua il controllo sul campo CONFERMA PASSWORD
                else if ((conferma == "") || (conferma == "undefined")) {
                alert("Il campo Conferma password è obbligatorio.");
                document.modulo.conferma.focus();
                return false;
                }

                //Verifica l'uguaglianza tra i campi PASSWORD e CONFERMA PASSWORD
                else if (password != conferma) {
                alert("La password confermata è diversa da quella scelta, controllare.");
                document.modulo.conferma.value = "";
                document.modulo.conferma.focus();
                return false;
                }
                
                //Effettua il controllo sul campo TELEFONO
                else if ((isNaN(telefono)) || (telefono == "") || (telefono == "undefined")) {
                alert("Il campo Telefono è numerico ed obbligatorio.");
                document.modulo.telefono.value = "";
                document.modulo.telefono.focus();
                return false;
                }
                else if (!email_reg_exp.test(email) || (email == "") || (email == "undefined")) {
                alert("Inserire un indirizzo email corretto.");
                document.modulo.email.select();
                return false;
                }

                //INVIA IL MODULO
                else {
                document.modulo.action = "elabora_dati.asp";
                document.modulo.submit();
                alert(`Sei registrato come: \n 
                        nome: ${nome} \n 
                        cognome: ${cognome} \n 
                        email: ${email} \n 
                        telefono: ${telefono} \n
                        password: ${password} \n
                        `);
                }
                }

                </script>
    </body>
</html>